import math
# Задача 1.
#  Проведите тест гипотезы. Утверждается, что шарики для подшипников,
#  изготовленные автоматическим станком, имеют средний диаметр 17 мм.
#  Используя односторонний критерий с α=0,05, проверить эту гипотезу, если в
#  выборке из n=100 шариков средний диаметр оказался равным 17.5 мм, а
#  дисперсия известна и равна 4 кв. мм.

mu_0 = 17
x_bar = 17.5
sigma=math.sqrt(4)
n=100
alpha=0.05
#Z-статистика
Z=(x_bar-mu_0)/(sigma/math.sqrt(n))
#Критическоезначениедляодностороннеготестасα=0.05
Z_crit=1.645 #Дляодностороннеготестаприα=0.05
print("Задача1:Проверка гипотезы с использованием Z-критерия")
print(f"Z-статистика:{Z}")
print(f"Критическое значение:{Z_crit}")
#Проверкагипотезы
if Z>Z_crit:
    print("Отвергаем нулевую гипотезу в пользу альтернативной гипотезы.")
else:
    print("Нет оснований отвергать нулевую гипотезу.")
    print()
# Проведите тест гипотезы. Продавец утверждает, что средний  вес пачки печенья
# составляет200г. Из партии извлечена выборка из 10 пачек.Вес каждой пачки
# составляет: 202, 203, 199, 197, 195, 201, 200, 204, 194, 190.
# Известно, что их веса распределены нормально. Верно ли утверждение продавца, если учитывать, что
# доверительная вероятность равна 99 %? (Провести двусторонний тест.)

weights = [202, 203, 199, 197, 195, 201, 200, 204, 194, 190]
mu_0 = 200
alpha = 0.01
n = len(weights)
mean_weight = sum(weights) / n
# t-статистика
s = math.sqrt(sum((x- mean_weight) ** 2 for x in weights) / (n-1))
t_stat = (mean_weight- mu_0) / (s / math.sqrt(n))
#Критическоезначениедляt-распределениясn-1степеньюсвободы
t_crit=3.249835 #Длядвустороннеготестаприα=0.01иdf=9
print("Задача2:Проверка гипотезы с использованием t-теста")
print(f"t-статистика:{t_stat}")
print(f"Критическое значение:{t_crit}")
#Проверкагипотезы
if abs(t_stat)>t_crit:
 print("Отвергаем нулевую гипотезу впользу альтернативной гипотезы.")
else:
 print("Нет оснований отвергать нулевую гипотезу.")
 print()

# Задача3.
# Есть ли статистически значимые различия в росте дочерей? Рост матерей 172,
# 177,158,170,178,175,164,160,169,165 Рост взрослых дочерей:173,175,162,174,175,168,155,170,160

mothers_height = [172, 177, 158, 170, 178, 175, 164, 160, 169, 165]
daughters_height = [173, 175, 162, 174, 175, 168, 155, 170, 160]
n1 = len(mothers_height)
n2 = len(daughters_height)
mean_mothers = sum(mothers_height) / n1
mean_daughters = sum(daughters_height) / n2
var_mothers = sum((x- mean_mothers) ** 2 for x in mothers_height) / (n1- 1)
var_daughters = sum((x- mean_daughters) ** 2 for x in daughters_height) / (n2- 1)
# t-статистика для независимых выборок
pooled_variance=((n1-1)*var_mothers+(n2-1)* var_daughters)/(n1+n2-2)
t_stat_ind=(mean_mothers-mean_daughters)/math.sqrt(pooled_variance*(1/n1+1/n2))
#Критическое значение для двустороннего теста при α=0.05 и df= 18
t_crit_ind=2.100922
print("Задача3:Статистически значимые различия в росте матерей и  дочерей")
print(f"t-статистика:{t_stat_ind}")
print(f"Критическое значение:{t_crit_ind}")
if abs(t_stat_ind)>t_crit_ind:
 print("Есть статистически значимые различия в росте матерей и  дочерей.")
else:
    print("Нет статистически значимых различий в росте матерей и  дочерей.")
    print()